@model Notes.App.ViewModels.Category.CategoryIndexViewModel

@{
    ViewBag.Title = "Категории";
}

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h2>Категории</h2>
        <hr/>
        <div class="btn"><a href="/Category/Create" class="editlink"><img src="@Url.Content("~/Content/image/add16.png")" /> Создать </a></div>
        <div id="error"></div>
        <table class="table-bordered w-100">
            <thead>
                <tr>
                    <th class="w-25">@Html.LabelFor(model => model.Categories.First().Id)</th>
                    <th>@Html.LabelFor(model => model.Categories.First().Name)</th>
                    <th style="width:10%">&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var category in Model.Categories)
                {
                    <tr>
                        <td>@category.Id</td>
                        <td>@Html.ActionLink(category.Name, "Details", "Category", new { Id = category.Id }, new { @class = "details", dialog_title="Подробно" })</td>
                        <td><a href="/Category/Edit/@category.Id" class="dataedit" data-title="Редактирование"><img src="~/Content/images/edit32.png"/></a>
                            <a class="deletelink" href="/Category/Delete/@category.Id"><img src="~/Content/images/delete32.png"/></a></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>    
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $(".details").on("click", showCategoryDetails);
        $(".dataedit").on("click", editCategory);
        $(".deletelink").on("click", function (e) {            
            return window.confirm("Удалить категорию?")
        })                
    })
</script>